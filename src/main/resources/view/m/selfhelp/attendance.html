<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>考勤汇总</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="/statics/plugins/mui/css/mui.min.css"/>
		<link rel="stylesheet" type="text/css" href="/statics/css/m/app.css"/>
	</head>
	<body style="background-color: #fff;">
		<ul class="mui-table-view" id="attendanceData">
			<li class="mui-table-view-cell mui-collapse mui-active">
				<a class="mui-navigate-right attendance-title1" href="#"></a>
				<div class="mui-collapse-content">
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">合计出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim006 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">应出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim001 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">正常出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim002 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">平时加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim003 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">周日加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim004 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">法定节日加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim005 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">年休假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim007 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">调休假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim008 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">婚假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim009 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">丧假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim010 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">护理假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim011 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">工伤假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim012 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">产假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim013 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">产检假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim014 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">病假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim015 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">事假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim016 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">旷工</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim017 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">迟到早退</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim018 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">漏刷卡</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim019 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">夜班时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim020 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">年休假标准</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim021 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">已休时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim022 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">剩余时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim023 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">调休余额</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance1.ztim024 }}</div>
                        <div style="clear: both"></div>
                    </div>
				</div>
			</li>
			<li class="mui-table-view-cell mui-collapse mui-active">
				<a class="mui-navigate-right attendance-title2" href="#"></a>
				<div class="mui-collapse-content">
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">合计出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim006 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">应出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim001 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">正常出勤工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim002 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">平时加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim003 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">周日加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim004 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">法定节日加班工时</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim005 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">年休假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim007 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">调休假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim008 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">婚假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim009 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">丧假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim010 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">护理假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim011 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">工伤假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim012 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">产假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim013 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">产检假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim014 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">病假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim015 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">事假</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim016 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">旷工</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim017 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">迟到早退</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim018 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">漏刷卡</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim019 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">夜班时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim020 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">年休假标准</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim021 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">已休时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim022 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">剩余时数</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim023 }}</div>
                        <div style="clear: both"></div>
                    </div>
                    <div class="mui-col-sm-12 mui-col-xs-12">
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">调休余额</div>
                        <div class="mui-col-sm-6 mui-col-xs-6 content-cell-p">{{ attendance2.ztim024 }}</div>
                        <div style="clear: both"></div>
                    </div>
				</div>
			</li>
		</ul>

		<script src="/statics/plugins/jquery/jquery.min.js"></script>
		<script src="/statics/plugins/mui/js/mui.js" type="text/javascript" charset="utf-8"></script>
        <script src="/statics/plugins/vue/vue.min.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
            //初始化vue对象
            var vm = new Vue({
                el:"#attendanceData",
                data:{
                    attendance1:{},
                    attendance2: {}
                },
                mounted (){//挂载el
                    mui.init();
                },
                created: function(){
                    var data = getAttendance();
                    this.attendance1 = data[0].dto;
                    this.attendance2 = data[1].dto;
                }
            });

            //从后台获取考勤汇总数据
            function getAttendance() {
                var result;
                mui.ajax('/app/selfhelp/getAttendance',{
                    dataType:'json',//服务器返回json格式数据
                    type:'post',//HTTP请求类型
                    timeout:10000,//超时时间设置为10秒；
                    headers:{'Content-Type':'application/json'},
                    async: false,
                    success:function(data){
                        if (data.code == 0) {
                            //添加数据到列表中
                            var title1 = data.data[0].year + "年" + data.data[0].month + "月考勤明细";
                            mui(".attendance-title1")[0].text = title1;
                            var title2 = data.data[1].year + "年" + data.data[1].month + "月考勤明细";
                            mui(".attendance-title2")[0].text = title2;
                            result = data.data;
                        }else {
                            console.log(data.msg)
                        }
                    },
                    error:function(xhr,type,errorThrown){
                        //异常处理；
                        console.log(type);
                    }
                });
                return result;
            }
        </script>
	</body>
</html>
